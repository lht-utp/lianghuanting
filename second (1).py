import streamlit as st
import pandas as pd
st.title("南宁美食探索🍔")
st.header("南宁美食地图🗺")
map_data={
    'latitude':[22.7901, 22.7900, 22.7894, 22.7892, 22.7908],
    'longitude':[108.3121, 108.3121, 108.3118, 108.3125, 108.3122]
}
st.map(pd.DataFrame(map_data))

import pandas as pd

# 定义数据,以便创建数据框
data = {
    '月份':['01月', '02月', '03月','04月', '05月', '06月','07月', '08月', '09月','10月', '11月', '12月'],
    '拾光甜点':[200, 150, 180, 168, 158, 143, 139, 122, 150, 147, 133,126],
    '益禾堂':[120, 160, 123, 256, 185, 196, 158, 129, 141, 145, 125, 123],
    '小龙坎火锅':[110, 100, 160, 146, 158, 245, 236, 258, 246, 269, 369,145],
    '茉莉奶白':[110, 100, 160, 150, 143, 482, 359, 368, 345, 358, 268, 258],
    '霸碗盖码饭':[110, 100, 160, 177, 188, 178, 158, 169, 258, 269, 247, 258],
}
# 根据上面创建的data，创建数据框
df = pd.DataFrame(data)
# 定义数据框所用的新索引
index = pd.Series([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12], name='序号')
# 将新索引应用到数据框上
df.index = index

st.header("门店数据")
# 使用write()方法展示数据框
st.write(df)
st.header("条形图")

st.subheader("销量")
# 通过x指定月份所在这一列为条形图的x轴
st.bar_chart(df, x='月份')

# 修改df，用月份列作为df的索引，替换原有的索引
df.set_index('月份', inplace=True)


crowd_data = pd.DataFrame({
    "月份":['01月', '02月', '03月','04月', '05月', '06月','07月', '08月', '09月','10月', '11月', '12月'],
    '拾光甜点':[200, 150, 180,168,158, 143,139,122,150,147,133,126],
    '益禾堂':[120, 160, 123, 256, 185, 196,158,129,141,145,125,123],
    '小龙坎火锅':[110, 100, 160,146,158,245,236,258,246,269,369,145],
    '茉莉奶白':[110, 100, 160,150,143,482,359,368,345,358,268,258],
    '霸碗盖码饭':[110, 100, 160,177,188,178,158,169,258,269,247,258],
})

st.line_chart(crowd_data.set_index('月份'))

data = {
    "月份": ["01月", "02月", "03月", "04月", "05月", "06月"],
    "拾光甜点": [4.7, 4.8, 4.7, 4.9, 4.8, 4.9],
    "益禾堂": [4.5, 4.2, 4.6, 4.7, 4.6, 4.8],
    "小龙坎火锅": [4.3, 4.4, 4.4, 4.5, 4.6, 4.7],
    "茉莉奶白": [4.6, 4.7, 4.5, 4.6, 4.7, 4.8],
    "霸碗盖码饭": [4.8, 4.8, 4.9, 4.9, 4.6, 4.5]
}
df = pd.DataFrame(data)
st.subheader("⭐各门店月度:red[评分]")
df_chart = df.set_index("月份")
st.bar_chart(df_chart)
st.dataframe(df, width=10, height=2)
# 各家店人均价格
data = {
    "店名": ["拾光甜点", "益禾堂", "小龙坎火锅", "茉莉奶白", "霸碗盖码饭"],
    "人均价格(元)": [30, 50, 15, 100, 60]
}
df = pd.DataFrame(data)
st.subheader("🍖各家店的:red[人均价格]")
df_chart = df.set_index("店名")
st.line_chart(df_chart)

# 各家店用餐高峰时段（时段细分版）
data = {
    "时段": ["11:30-13:30", "14:00-16:00", "17:30-19:30", "19:00-23:00"],
    "拾光甜点": [5, 2, 4, 3],
    "益禾堂": [2, 4, 3, 5],
    "小龙坎火锅": [2, 1, 3, 4],
    "茉莉奶白": [3, 1, 5, 4],
    "霸碗盖码饭": [5, 2, 4, 3]
}

# 各家店用餐高峰时段（月度版）
data = { 
    "月份": ["01月", "02月", "03月", "04月", "05月", "06月", "07月", "08月", "09月", "10月", "11月", "12月"],
    "拾光甜点": [5, 2, 4, 3, 5, 2, 4, 3, 5, 2, 4, 3],
    "益禾堂": [2, 4, 3, 5, 2, 4, 3, 5, 2, 4, 3, 5],
    "小龙坎火锅": [2, 1, 3, 4, 2, 4, 3, 5, 2, 4, 3, 5],
    "茉莉奶白": [3, 1, 5, 4, 3, 1, 5, 4, 3, 1, 5, 4],
    "霸碗盖码饭": [5, 2, 4, 3, 5, 2, 4, 3, 5, 2, 4, 3]
}
df = pd.DataFrame(data)
index = pd.Series([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12], name="序号")
df = pd.DataFrame(data, index=index)
st.subheader("🍖各家店:red[用餐高峰时段]")
st.area_chart(df, x="时段")
df.set_index("时段", inplace=True)
